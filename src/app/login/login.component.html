<div class="row">

    <!-- this header tag displays only when user is logged-in -->
    <div *ngIf="authService.user | async">
        <h3>Welcome</h3>
        <p>
            {{ (authService.user | async)?.email }}
        </p>
        <button (click)="logout()" *ngIf="authService.user | async" class="btn btn-primary">Logout</button>
    </div>

    <!-- this div displays only when user is not-logged-in -->
    <div *ngIf="!(authService.user | async)">
        
        <h2>Login</h2>

        <form [formGroup]="loginForm">

            
            <div *ngIf="errorMessage" class="alert alert-danger" role="alert">{{errorMessage}}</div>
            <div *ngIf="successMessage" class="alert alert-primary" role="alert">{{successMessage}}</div>
          

            <div class="form-group">
              <label>Email address</label>
              <input type="email" formControlName="email" class="form-control" required
                    [ngClass]="{'is-invalid': email.errors && (email.touched || email.dirty)}">
            </div>

            <div class="form-group">
              <label>Password</label>
              <input type="password" formControlName="password" class="form-control" required
                    [ngClass]="{'is-invalid': password.errors && (password.touched || password.dirty)}">
            </div>

            <button (click)="login()" [disabled]="!loginForm.valid" class="btn btn-primary">Login</button>
        </form>

        <p class="mt-3"> 
         <a href="/user/register">Register here</a>
        </p>
    </div>
</div>