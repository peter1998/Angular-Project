<div class="container">

    <div *ngIf="user" class="text-center">
        <h3>Welcome</h3>
        <p>
            {{ user.name }}
        </p>
        <button (click)="logout()" class="btn btn-primary">Logout</button>
    </div>
    
    <div class="form-signin" *ngIf="!(user)">
        
        <h2>Login</h2>

        <form [formGroup]="loginForm">
            <div *ngIf="errorMessage" class="alert alert-danger" role="alert">{{errorMessage}}</div>
            <div *ngIf="successMessage" class="alert alert-info" role="alert">{{successMessage}}</div>

            <div class="form-group">
              <label>Email address</label>
              <input type="email" formControlName="email" class="form-control" required
                    [ngClass]="{'is-invalid': email.errors && (email.touched || email.dirty)}">
            </div>

            <div class="form-group">
              <label>Password</label>
              <input type="password" formControlName="password" class="form-control" required
                    [ngClass]="{'is-invalid': password.errors && (password.touched || password.dirty)}">
            </div>

            <button (click)="login()" [disabled]="!loginForm.valid" class="btn btn-primary">Login</button>
        </form>

        <p class="mt-3">
            <a href="/user/register">Regsiter</a>
        </p>

    </div>
    
    

</div>